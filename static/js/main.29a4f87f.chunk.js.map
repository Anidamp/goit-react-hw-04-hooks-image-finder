{"version":3,"sources":["components/ImageGallery/ImageGallery.styled.jsx","components/apiService/apiService.js","components/ImageGalleryItems/ImageGalleryItems.styled.jsx","components/ImageGalleryItems/ImageGalleryItems.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Loader/Loader.js","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","App.js","index.js"],"names":["GalleryImage","styled","ul","pixabayAPI","this","api_key","_searchQuery","_page","value","a","url","searchQuery","axios","get","result","data","message","ListItem","li","Img","img","ImageGalleryItem","handleImageClick","item","webformatURL","largeImageURL","tags","src","alt","onClick","className","Overlay","div","ModalPar","modalRoot","document","querySelector","Modal","onModalClose","useEffect","window","addEventListener","handleEscKey","removeEventListener","e","code","createPortal","target","currentTarget","Spinner","type","color","height","width","LoadMore","button","Button","prototype","PropTypes","func","isRequired","imgsearch","ImageGallery","useState","searchResults","setSearchResults","searchPoints","setSearchPoints","status","setStatus","largeURL","setlargeURL","errorMessage","setErrorMessage","console","log","resetPage","search","then","hits","length","total","map","el","id","page","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","er","title","text","Header","header","SearchForm","form","SearchFormButton","SearchFormSpan","span","SearchFormInput","input","Searchbar","onSubmit","searchInput","setSearchInput","preventDefault","trim","alert","autoComplete","autoFocus","placeholder","onChange","App","query","setQuery","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.29a4f87f.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\n\nexport const GalleryImage = styled.ul`\ndisplay: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 25px;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n  `","import axios from 'axios';\nexport default class pixabayAPI {\n  constructor() {\n    this.api_key = '23281495-b0d23e8712929a59a4f8b9c87';\n    this._searchQuery = '';\n    this._page = 1;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  async search() {\n    let url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this._page}&per_page=15&key=${this.api_key}\n`;\n\n    try {\n      const result = await axios.get(url);\n      const data = result.data;\n      return data;\n    } catch (err) {\n      return err.message;\n    }\n  }\n}","import styled from \"styled-components\";\n\nexport const ListItem = styled.li`\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\n\nexport const Img = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;","import { PropTypes } from \"prop-types\";\nimport {ListItem, Img } from './ImageGalleryItems.styled';\n\nexport default function ImageGalleryItem({handleImageClick, item}){\n   \n\n        const { webformatURL, largeImageURL, tags, } = item;\n        return (\n           <ListItem >\n   <Img src={webformatURL} alt={tags}  onClick ={() => handleImageClick(largeImageURL)} className=\"ImageGalleryItem-image\" />\n </ListItem> \n        )\n}\n\nImageGalleryItem.propTypes = {\n    item: PropTypes.shape({\n        webformatURL: PropTypes.string,    \n        largeImageURL: PropTypes.string,\n        tags: PropTypes.string,\n    }),\n    handleImageClick: PropTypes.func.isRequired,\n}","import styled from 'styled-components'\n\nexport const Overlay = styled.div `\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n    z-index: 1200;`\n\n  \nexport const ModalPar = styled.div` \n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);`\n  \n  ","import { useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport { createPortal } from \"react-dom\";\nimport {Overlay, ModalPar} from \"./Modal.styled\"\nconst modalRoot = document.querySelector('#modal-root');\n\n\nexport default function Modal({ largeImageURL, onModalClose}){\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleEscKey)\n    return () => {\n      window.removeEventListener('keydown', handleEscKey)\n    }\n  });\n \n  const handleOverlayclick = (e) => {\n   \n  if (e.target === e.currentTarget) {\n    onModalClose()\n  }\n  }\n  const handleEscKey = (e) => {\n    if (e.code === \"Escape\") {\n    onModalClose()\n  }\n  }\n\nreturn (createPortal(   <Overlay onClick ={handleOverlayclick}>\n  <ModalPar >\n    <img src={largeImageURL} alt=\"\" />\n  </ModalPar>\n</Overlay>, modalRoot))\n     \n}\nModal.propTypes = {\n  largeImageURL: PropTypes.string,\n  onModalClose: PropTypes.func.isRequired\n}","import Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nexport default function Spinner() {\n  return (\n    <Loader className = \"loader\" type=\"Circles\" color=\"#00BFFF\" height={80} width={80}/>\n  );\n}","import styled from \"styled-components\";\n\nexport const LoadMore = styled.button`\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  padding: 8px 16px;\n  border-radius: 5px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n`;","import PropTypes from \"prop-types\";\nimport { LoadMore } from \"./Button.styled\";\n\nexport default function Button({ onClick }) {\n  return (\n    <LoadMore type=\"button\" onClick={onClick}>\n      Load more\n    </LoadMore>\n  );\n}\n\nButton.prototype = {\n  onClick: PropTypes.func.isRequired,\n};","import { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types';\nimport {GalleryImage} from './ImageGallery.styled'\nimport pixabayAPI from '../apiService/apiService'\nimport ImageGalleryItems from '../ImageGalleryItems/ImageGalleryItems';\nimport Modal from '../Modal/Modal';\nimport Loader from '../Loader/Loader'\nimport { Notification } from 'react-pnotify'\nimport Button from '../Button/Button';\n\n\n\nconst imgsearch = new pixabayAPI();\n\nexport default function ImageGallery({searchQuery}) {\n    \n  const [searchResults, setSearchResults] = useState([]);\n  const [searchPoints, setSearchPoints] = useState(null);\n  const [status, setStatus] = useState('init');\n  const [largeURL, setlargeURL] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  useEffect(() => {\n    if (searchQuery === \"\") {\n      return\n    };\n    console.log(searchQuery)\n    setStatus('pending')\n    imgsearch.resetPage();\n    imgsearch.searchQuery = searchQuery;\n    imgsearch.search()\n      .then(searchResults => {\n        if (searchResults.hits.length > 0) {\n          setSearchResults(searchResults.hits);\n          setSearchPoints(searchResults.total);\n          setStatus('success');\n        } else {\n          setErrorMessage('Nothing found!');\n          setStatus('error');\n        }\n      });\n  }, [searchQuery]);\n    \n\n  const handleImageClick = (value) => {\n      console.log(value)\n       setlargeURL(value);\n       setStatus('modal')\n    }\n\n    const onModalClose = () => {\n        setStatus('success')\n    }\n\n    const handleClick = (e) => {\n            \n      imgsearch.page = 1;\n      imgsearch.search()\n        .then(searchResults => {\n          setSearchResults((prev) => [...prev, ...searchResults.hits]);\n          setStatus('success')\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          })\n        })\n            .catch((er) => {\n              setStatus('error');\n              setErrorMessage(er)\n         });\n        \n    }\n\n    if (status === 'init') {\n      return <h1 className=\"title\">Hello! What are we looking for?</h1>;\n    }\n   if (status === 'pending') {\n     return (<Loader/>)\n   }\n    if (status === 'success') {\n\n  return (\n        <>\n              <GalleryImage>\n                  {searchResults.map(el => (\n                      \n                    < ImageGalleryItems key ={el.id} item={el} handleImageClick = {handleImageClick} />)                                      \n                   \n                )}\n            </GalleryImage>\n              {(searchPoints > 15) && <Button onClick ={handleClick} />}\n          \n        </>\n  );\n      }\n     if (status === 'modal') {\n         return <Modal largeImageURL={largeURL} onModalClose = {onModalClose} />\n     }\n   if (status === 'error') {\n      \n      return <Notification\n        type='Error'\n        title='Error'\n        text={errorMessage}\n       \n      />\n    }\n  }\n           \n           \nImageGallery.propTypes = {\n  searchQuery: PropTypes.string\n}","import styled from 'styled-components';\n\nexport const Header = styled.header`\n    top: 0;\n    left: 0;\n    position: sticky;\n    z-index: 1100;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    min-height: 64px;\n    padding-right: 24px;\n    padding-left: 24px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    color: #fff;\n    background-color: #3f51b5;\n    box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n      0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);`\n      \nexport const SearchForm = styled.form`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n`\n  \n  export const SearchFormButton = styled.button\n    `display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n    &:hover {\n        opacity: 1;\n      }\n    `\n  \n  \n  export const SearchFormSpan = styled.span`\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;`\n  \n  export const SearchFormInput = styled.input`\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n    &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }`","import PropTypes from 'prop-types'\nimport { useState } from 'react'\nimport {Header, SearchForm, SearchFormButton, SearchFormSpan, SearchFormInput} from './Searchbar.styled'\n\n\n \n\nexport default function Searchbar({onSubmit}) {\n    \n    const [searchInput, setSearchInput] = useState('')\n    \n    const handleChange = (e) => {\n        setSearchInput(e.target.value)\n    };\n\n    const handleSubmit = (e) => {\n        \n        e.preventDefault()\n        if (searchInput.trim() === \"\") {\n            alert('Input something!')\n            return              \n        }\n        onSubmit(searchInput);\n        setSearchInput('');\n    }\n\n        return(\n            <Header>\n                <SearchForm onSubmit={handleSubmit}>\n        < SearchFormButton type=\"submit\" >\n          <SearchFormSpan>Search</SearchFormSpan>\n        </SearchFormButton>\n    \n        < SearchFormInput\n          value={searchInput}\n          type=\"search\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n        />\n      </SearchForm>\n    </Header>\n        )\n        \n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}","import { useState } from 'react';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\n\nexport default function App () {\n  \n  const [query, setQuery] = useState('');\nconsole.log(query)\n  const onFormSubmit = input => {\n    setQuery(input)\n  };\n\n  \n  return (\n      <div className=\"App\">\n        <Searchbar onSubmit={onFormSubmit} />\n        <ImageGallery searchQuery={query} />\n      </div>\n    );\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}